{"version":3,"sources":["component/MovieDetailsPage/MovieDetailsPage.js","utils/apiRequest.js","api/index.js"],"names":["activeStyle","color","Cast","lazy","Reviews","MovieDetailsPage","props","useState","movieDetails","setMovieDetails","error","setError","movieId","match","params","useEffect","fetchMovieDetails","then","res","catch","onClick","state","location","history","push","from","pathname","routes","HOME","search","src","poster_path","alt","title","vote_average","overview","status","to","exact","fallback","path","MOVIE_CAST","component","MOVIE_REVIEWS","fetchHomePage","a","axios","get","ApiKey","data","results","id","fetchCast","fetchReviews","fetchMoviesSearch","query","defaults","baseURL","imgUrl"],"mappings":"0JAKMA,EAAc,CAClBC,MAAO,SAGHC,EAAOC,gBAAK,kBAAM,iCAClBC,EAAUD,gBAAK,kBAAM,iCAwFZE,UAtFU,SAACC,GAAW,IAAD,EACMC,mBAAS,IADf,mBAC3BC,EAD2B,KACbC,EADa,OAERF,mBAAS,IAFD,mBAE3BG,EAF2B,KAEpBC,EAFoB,KAI5BC,EAAUN,EAAMO,MAAMC,OAAOF,QACnCG,qBAAU,WACRC,YAAkBJ,GACfK,MAAK,SAACC,GACLT,EAAgBS,MAEjBC,OAAM,SAACT,GAAD,OAAWC,EAASD,QAC5B,CAACE,IAcJ,OACE,6BACGF,GAAS,4DAEV,4BAAQU,QAhBS,WAAO,IAClBC,EAAUf,EAAMgB,SAAhBD,MACJA,EACFf,EAAMiB,QAAQC,KAAKH,EAAMI,MAG3BnB,EAAMiB,QAAQC,KAAK,CACjBE,SAAUC,IAAOC,KACjBC,OAAO,OAQP,WACA,6BACE,yBACEC,IAAG,0CAAqCtB,EAAauB,aACrDC,IAAKxB,EAAayB,QAEpB,4BAAKzB,EAAayB,OAClB,0CAAgBzB,EAAa0B,cAC7B,wCACA,2BAAI1B,EAAa2B,UACjB,sCACA,2BAAI3B,EAAa4B,SAEnB,6BACE,qDACA,4BACE,4BACE,kBAAC,IAAD,CACEC,GAAI,CACFX,SAAS,WAAD,OAAad,EAAb,SACRS,MAAO,CAAEI,KAAMnB,EAAMgB,SAASD,MAAMI,OAEtCa,OAAK,EACLtC,YAAaA,GANf,SAWF,4BACE,kBAAC,IAAD,CACEqC,GAAI,CACFX,SAAS,WAAD,OAAad,EAAb,YACRS,MAAO,CAAEI,KAAMnB,EAAMgB,SAASD,MAAMI,OAEtCzB,YAAaA,GALf,cAYN,kBAAC,WAAD,CAAUuC,SAAU,0CAClB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,KAAI,UAAKlC,EAAMO,MAAM2B,MAAjB,OAAwBb,IAAOc,YACnCC,UAAWxC,IAEb,kBAAC,IAAD,CACEsC,KAAI,UAAKlC,EAAMO,MAAM2B,MAAjB,OAAwBb,IAAOgB,eACnCD,UAAWtC,S,gQCvFVwC,EAAa,uCAAG,sBAAAC,EAAA,sEACdC,IACVC,IADU,uCAC0BC,MACpC/B,MAAK,SAACC,GAAD,OAASA,EAAI+B,KAAKC,WAHC,mFAAH,qDAMblC,EAAoB,SAACmC,GAChC,OAAOL,IAAMC,IAAN,iBAAoBI,EAApB,oBAAkCH,MAAU/B,MAAK,SAACC,GAAD,OAASA,EAAI+B,SAG1DG,EAAY,SAACD,GACxB,OAAOL,IACJC,IADI,iBACUI,EADV,4BACgCH,MACpC/B,MAAK,SAACC,GAAD,OAASA,EAAI+B,SAGVI,EAAe,SAACF,GAC3B,OAAOL,IACJC,IADI,iBACUI,EADV,4BACgCH,MACpC/B,MAAK,SAACC,GAAD,OAASA,EAAI+B,SAGVK,EAAoB,SAACC,GAChC,OAAOT,IACJC,IADI,gCACyBC,IADzB,kBACyCO,IAC7CtC,MAAK,SAACC,GAAD,OAASA,EAAI+B,U,gCC5BvB,gFAEaD,EAAS,mCAFtB,OAGAF,EAAMU,SAASC,QAAU,+BAElB,IAAMC,EAAS","file":"static/js/6.72fc0557.chunk.js","sourcesContent":["import React, { useState, useEffect, lazy, Suspense } from \"react\";\r\nimport { fetchMovieDetails } from \"../../utils/apiRequest\";\r\nimport { NavLink, Route, Switch } from \"react-router-dom\";\r\nimport { routes } from \"../../utils/routes\";\r\n\r\nconst activeStyle = {\r\n  color: \"brown\",\r\n};\r\n\r\nconst Cast = lazy(() => import(\"../Cast/Cast\"));\r\nconst Reviews = lazy(() => import(\"../Reviews/Reviews\"));\r\n\r\nconst MovieDetailsPage = (props) => {\r\n  const [movieDetails, setMovieDetails] = useState({});\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const movieId = props.match.params.movieId;\r\n  useEffect(() => {\r\n    fetchMovieDetails(movieId)\r\n      .then((res) => {\r\n        setMovieDetails(res);\r\n      })\r\n      .catch((error) => setError(error));\r\n  }, [movieId]);\r\n\r\n  const handleGoBack = () => {\r\n    const { state } = props.location;\r\n    if (state) {\r\n      props.history.push(state.from);\r\n      return;\r\n    }\r\n    props.history.push({\r\n      pathname: routes.HOME,\r\n      search: ``,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {error && <>Something went wrong</>}\r\n\r\n      <button onClick={handleGoBack}>Go back</button>\r\n      <div>\r\n        <img\r\n          src={`https://image.tmdb.org/t/p/w500/${movieDetails.poster_path}`}\r\n          alt={movieDetails.title}\r\n        />\r\n        <h2>{movieDetails.title}</h2>\r\n        <p>User score: {movieDetails.vote_average}</p>\r\n        <h3>Overview</h3>\r\n        <p>{movieDetails.overview}</p>\r\n        <h3>Genres</h3>\r\n        <p>{movieDetails.status}</p>\r\n      </div>\r\n      <div>\r\n        <p>Additional information</p>\r\n        <ul>\r\n          <li>\r\n            <NavLink\r\n              to={{\r\n                pathname: `/movies/${movieId}/cast`,\r\n                state: { from: props.location.state.from },\r\n              }}\r\n              exact\r\n              activeStyle={activeStyle}\r\n            >\r\n              Cast\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink\r\n              to={{\r\n                pathname: `/movies/${movieId}/reviews`,\r\n                state: { from: props.location.state.from },\r\n              }}\r\n              activeStyle={activeStyle}\r\n            >\r\n              Reviews\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <Suspense fallback={<p>...Loading</p>}>\r\n        <Switch>\r\n          <Route\r\n            path={`${props.match.path}${routes.MOVIE_CAST}`}\r\n            component={Cast}\r\n          />\r\n          <Route\r\n            path={`${props.match.path}${routes.MOVIE_REVIEWS}`}\r\n            component={Reviews}\r\n          />\r\n        </Switch>\r\n      </Suspense>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n","import axios from \"axios\";\r\nimport { ApiKey } from \"../api\";\r\n\r\nexport const fetchHomePage = async () => {\r\n  return await axios\r\n    .get(`/trending/movie/week?api_key=${ApiKey}`)\r\n    .then((res) => res.data.results);\r\n};\r\n\r\nexport const fetchMovieDetails = (id) => {\r\n  return axios.get(`/movie/${id}?api_key=${ApiKey}`).then((res) => res.data);\r\n};\r\n\r\nexport const fetchCast = (id) => {\r\n  return axios\r\n    .get(`/movie/${id}/credits?api_key=${ApiKey}`)\r\n    .then((res) => res.data);\r\n};\r\n\r\nexport const fetchReviews = (id) => {\r\n  return axios\r\n    .get(`/movie/${id}/reviews?api_key=${ApiKey}`)\r\n    .then((res) => res.data);\r\n};\r\n\r\nexport const fetchMoviesSearch = (query) => {\r\n  return axios\r\n    .get(`/search/movie?api_key=${ApiKey}&query=${query}`)\r\n    .then((res) => res.data);\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const ApiKey = \"d9f8ae7b9574459eeae778ce17dfe5fd\";\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const imgUrl = \"https://image.tmdb.org/t/p/w500/\";\r\n"],"sourceRoot":""}